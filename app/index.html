<!DOCTYPE html>

<html style="overflow: hidden">

<head>
    <meta charset="UTF-8">
    <title>Gallium</title>
    <link href="css/style.css" rel="stylesheet" id="style" />
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">

    <script type="text/javascript" src="./js/settings.js"></script>
    <script>
        /* Manage settings being shared across multiple pages */

        // Set up global settings here
        var currentSettings = new Settings();
        const settingsChangedObservers = [];

        // Adds an observer for when settings are updated.
        // The listener should be a function that takes one argument, the new settings.
        function addSettingsChangedObserver(listener) {
            settingsChangedObservers.push(listener);
        }

        // Make public
        var addSettingsChangedObserver = addSettingsChangedObserver;

        // Called when any setting is updated. Updates the global settings and notifies all observers.
        function settingsChanged(newSettings) {
            // Validate the updated settings
            if (newSettings === null) return;

            // Get old settings so observers can see what changed
            const oldSettings = currentSettings;

            // Update settings
            currentSettings = newSettings;

            // Notify observers
            for (let i = 0; i < settingsChangedObservers.length; i += 1) {
                settingsChangedObservers[i](currentSettings, oldSettings);
            }
        }
    </script>
</head>
<body>
    <div class="sideNavIFrameWrapper">
        <div class="sidenav">
            <img src="img/teslaworks_name_with_logo.png" id="logo" />

            <div class="tools" style="overflow-y:auto;">
                <a onclick='changeFrame("html/shows.html")' class="dropdown-btn">Show </a>
                <a onclick='changeFrame("html/dmx.html")' class="dropdown-btn">DMX</a>
                <a onclick='changeFrame("html/layout.html")' class="dropdown-btn">Layout</a>
                <div id='settings'>
                    <a onclick='changeFrame("html/settings.html")' style="padding-left: 16px;">Settings</a>
                </div>
            </div>
        </div>


        <div class="content">
            <iframe id="frame" src="html/default.html" style="overflow: hidden"></iframe>
        </div>
    </div>


</body>
<script type="text/javascript" src="../setupRepo.js"></script>
<script>
    var frame = document.getElementById("frame");

    function changeFrame(src) {
        frame.src = src;
    }

    var logo = document.getElementById('logo');

    logo.onclick = function () {
        changeFrame("html/default.html");
    }
</script>

</html>